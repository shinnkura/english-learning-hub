  使用API一覧

  1. 単語の意味を取得するAPI

  Free Dictionary API
  ┌────────────────┬────────────────────────────────────────────────────────┐
  │      項目      │                          内容                          │
  ├────────────────┼────────────────────────────────────────────────────────┤
  │ エンドポイント │ https://api.dictionaryapi.dev/api/v2/entries/en/{word} │
  ├────────────────┼────────────────────────────────────────────────────────┤
  │ 内部API        │ /api/dictionary                                        │
  ├────────────────┼────────────────────────────────────────────────────────┤
  │ 認証           │ 不要（無料）                                           │
  ├────────────────┼────────────────────────────────────────────────────────┤
  │ 特徴           │ 発音記号、品詞、定義、例文を取得可能                   │
  └────────────────┴────────────────────────────────────────────────────────┘
  Cambridge Dictionary（スクレイピング）
  ┌────────────────┬───────────────────────────────────────────────────────────────┐
  │      項目      │                             内容                              │
  ├────────────────┼───────────────────────────────────────────────────────────────┤
  │ エンドポイント │ https://dictionary.cambridge.org/ja/dictionary/english/{word} │
  ├────────────────┼───────────────────────────────────────────────────────────────┤
  │ 内部API        │ /api/cambridge-dictionary                                     │
  ├────────────────┼───────────────────────────────────────────────────────────────┤
  │ 認証           │ 不要                                                          │
  ├────────────────┼───────────────────────────────────────────────────────────────┤
  │ 特徴           │ HTMLをパースして定義を抽出。User-Agent偽装を使用              │
  └────────────────┴───────────────────────────────────────────────────────────────┘
  ---
  2. 画像取得API

  Unsplash API（メイン）
  ┌────────────────┬────────────────────────────────────────┐
  │      項目      │                  内容                  │
  ├────────────────┼────────────────────────────────────────┤
  │ エンドポイント │ https://api.unsplash.com/search/photos │
  ├────────────────┼────────────────────────────────────────┤
  │ 内部API        │ /api/unsplash                          │
  ├────────────────┼────────────────────────────────────────┤
  │ 認証           │ 必要（UNSPLASH_ACCESS_KEY環境変数）    │
  ├────────────────┼────────────────────────────────────────┤
  │ 特徴           │ 高品質な写真を検索・取得               │
  └────────────────┴────────────────────────────────────────┘
  Lorem Picsum（フォールバック）
  ┌────────────────┬──────────────────────────────────────────────────────┐
  │      項目      │                         内容                         │
  ├────────────────┼──────────────────────────────────────────────────────┤
  │ エンドポイント │ https://picsum.photos/300/200?random={timestamp}     │
  ├────────────────┼──────────────────────────────────────────────────────┤
  │ 認証           │ 不要                                                 │
  ├────────────────┼──────────────────────────────────────────────────────┤
  │ 特徴           │ Unsplash APIが利用できない場合のプレースホルダー画像 │
  └────────────────┴──────────────────────────────────────────────────────┘
  ---
  3. 翻訳API

  MyMemory Translation API
  ┌────────────────┬─────────────────────────────────────────┐
  │      項目      │                  内容                   │
  ├────────────────┼─────────────────────────────────────────┤
  │ エンドポイント │ https://api.mymemory.translated.net/get │
  ├────────────────┼─────────────────────────────────────────┤
  │ 内部API        │ /api/translate                          │
  ├────────────────┼─────────────────────────────────────────┤
  │ 認証           │ 不要（無料、レート制限あり）            │
  ├────────────────┼─────────────────────────────────────────┤
  │ 対応言語       │ 英語 ↔ 日本語                           │
  ├────────────────┼─────────────────────────────────────────┤
  │ 用途           │ 英文（フレーズ）の日本語翻訳            │
  └────────────────┴─────────────────────────────────────────┘
  ---
  4. Anki連携API

  AnkiConnect
  ┌────────────────┬──────────────────────────────────────────────────────────┐
  │      項目      │                           内容                           │
  ├────────────────┼──────────────────────────────────────────────────────────┤
  │ エンドポイント │ http://127.0.0.1:8765                                    │
  ├────────────────┼──────────────────────────────────────────────────────────┤
  │ 内部API        │ /api/auto-anki, /api/manual-anki                         │
  ├────────────────┼──────────────────────────────────────────────────────────┤
  │ 前提条件       │ Ankiアプリ + AnkiConnectアドオン（ID: 2055492159）が必要 │
  ├────────────────┼──────────────────────────────────────────────────────────┤
  │ 使用アクション │ storeMediaFile, modelNames, modelFieldNames, addNote     │
  └────────────────┴──────────────────────────────────────────────────────────┘
  ---
  処理フロー図

  入力テキスト
      │
      ├─ 単語の場合 ─→ Dictionary API ─→ 定義取得
      │                       │
      │                       └─→ Unsplash ─→ 画像取得
      │
      └─ フレーズの場合 ─→ MyMemory API ─→ 翻訳
                                │
                                └─→ Unsplash ─→ 画像取得
                                        │
                                        └─→ AnkiConnect ─→ カード作成

  ---
  必要な環境変数
  ┌─────────────────────┬──────┬────────────────────────────────────────────────────────────┐
  │       変数名        │ 必須 │                            説明                            │
  ├─────────────────────┼──────┼────────────────────────────────────────────────────────────┤
  │ UNSPLASH_ACCESS_KEY │ 任意 │ Unsplash APIアクセスキー。未設定時はPicsumにフォールバック │
  └─────────────────────┴──────┴────────────────────────────────────────────────────────────┘   